# Understanding state

## What is State (4:15)

There are two ways that data gets handle than react, props and state. So far we built our application using functions that taken props and return react elements. But props are read-only or immutable. A component can only read the props given to it, never change them. For any data that's going to change, we have to use state. Let's dig into this concept.

In react, **state is the data you want to track in your app**. State is what allows you to create components that are dynamic and interactive, and it's the only data that changes over time. In react, this data is stored in state.

**State itself is a regular JavaScript object with properties that define the pieces of data that change**. For example, if I look at the final app in React Dev Tools and select the app component, we see this new section in the right panel labeled state, and it contains an array with three objects. If I expand one of the objects we see its properties, id, name, and score. This should look familiar.

Now the biggest difference between the players array, we're currently passing to app via props and this array and state, is that data in state is not read-only. This data can change. For example, if I click to remove a player, notice how the array changes from 3 to 2 objects. This triggers a State change that affects all the components that take in this data. For instance, the total players number changes to 2 and the total points decrease. And if I click to increase one of the player score, we see the score update in state as well. And we know that this state is also being shared with the stats component up top because we see the total points increase and decrease as we update the score.

In fact, I can even update the score here in the state object and watch the value immediately change on screen. I'll do the same with one of the names, and so on. So as you can see, **state is what keeps your UI in sync with your data**. As the data changes, different components of the app will update what they show to the user. And normally, in a regular JavaScript application, the more data you have and the more spread out it is the more complex the application becomes to maintain and debug. So react provides a more convenient way to store and maintain your data with state.

Props still play a major role in your application, data from state is distributed through props. For example, each player component still receives the name, score, and other information you'll learn about later from props. Props are still how you get data into a component. You can learn more about what defines state in the teachers notes. To begin using state, we need to make a few changes in our app. State is only available to components that are class components. So in the next video, 4:10 we´ll begin by converting a function component to a class component.

Resources

- [Adding Local State to a Class – React docs](https://reactjs.org/docs/state-and-lifecycle.html#adding-local-state-to-a-class)
- [Component State – React docs](https://reactjs.org/docs/faq-state.html)
- [props vs state](https://github.com/uberVU/react-guide/blob/master/props-vs-state.md)

## Create a Component as a Class (4:00)

## Create a Stateful Component (4:21)

In this video, we're going to create a stateful component by first defining 0:04 an initial state inside the counter class. 0:07 You'll learn that in React state changes over time, 0:11 usually in response to users action. 0:13 So what part of the counter will change when users interact with it? 0:18 The score will increase or decrease depending on which button they click. 0:22 Score is our state. 0:24 So now let's go into our Counter component and start creating state. 0:28 Since state is an object, you create and 0:31 initialize state within a class inside the constructor method. 0:35 So first, I'll set up a constructor. 0:38 Again, if you're not familiar with classes and constructor methods, be sure to review 0:42 the Tree House videos posted in the teacher's notes with this video. 0:46 Inside the constructor, I'll call super in 0:49 order to call the constructor of the component class that we're extending. 0:55 And this needs to be done before we can use the this keyword 0:58 within the constructor. 1:00 Then to initialize our component state, 1:03 write this.state and set it equal to an object. 1:09 You must name this object state otherwise this will not work. 1:14 Since state is data that changes over time, we first need to set an initial 1:19 state or the state of the component when it first bounce. 1:23 The state in our counter is going to be the score we want to display for 1:28 each player. 1:29 I'll call the state score and set it to 0 by default. 1:33 Now that we've initialized state, over end React dev tools, 1:37 select a counter component inside a player component. 1:41 And you should see a new property called State up here in the right pane. 1:45 We see the course state and it's value is 0. 1:49 Next, let's remove the score prop being passed to 1:54 the counter and player components. 1:58 Because Counter is now maintaining its own score state, 2:01 it doesn't need the score information from its parent player component. 2:06 You access state in a similar way to how you access props. 2:11 In the Counter components render method, 2:14 replace this.props.score with this.state.score. 2:18 You can think of the render method in a class component 2:22 as being a function of not just props, but props and state. 2:26 In other words, if either props or state changes, 2:30 React executes the render method to update what gets displayed to the user. 2:36 Now once we refresh our app, 2:38 we see that all the players scores are set to the initial state of 0. 2:43 We can even change the score state of a counter component 2:48 instance in React Dev Tools and see the score change on the page. 2:53 Great, so you've just built your first stateful react component. 2:57 Before we move on, 2:59 I want to teach you a second way you can initialize state inside a React component. 3:05 A shortcut, 3:06 you'll often see state initialized inside a class constructor like this. 3:11 But you can also initialize state directly inside the class definition, 3:16 using a class property. 3:18 You omit the constructor method and super all together, and 3:22 reference the state property directly. 3:26 You don't need to write it as this.state, just state, and 3:30 set it equal to the object. 3:35 This class properties syntax is a feature of JavaScript that's currently not 3:39 supported in all browsers. 3:40 Since we're using the Babel transpiler in our app, 3:44 we don't have to worry about browser's support. 3:47 Babel will transpile our code and add a constructor for us behind the scenes. 3:53 The way you initialize state is up to you. 3:55 I prefer the class property syntax because it allows for a cleaner class component 4:00 and I don't have to remember to setup a constructor and call super. 4:03 So that's what I'm gonna be using moving forward. 4:06 All right, we've moved our score into a state object 4:10 instead of getting the score from props. 4:12 But so far, it doesn't seem to have a benefit. 4:15 Up next, you'll learn how to modify state from inside a component, 4:18 something you're not able to do with props.

## Handling Events (2:56)

## Updating State (2:14)

## Bind Event Handlers to Components (2:14)
